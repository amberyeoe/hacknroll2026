{% extends "base.html" %}

{% block title %}Shop{% endblock %}

{# Remove this block if base.html already links styles.css #}
{% block css %}
<link rel="stylesheet" href="../static/styles.css">
{% endblock %}

{% block content %}

<div class="page">

  <!-- Top row: title left, credits right -->
  <div class="topbar">
    <div class="topbar-left">
      <h1 class="h1">Shop</h1>
      <div class="muted">Spend credits to buy and equip cosmetics.</div>
    </div>

    <div class="credits-pill">
      Credits: <b>{{ credits }}</b>
    </div>
  </div>

  <!-- Centered avatar section (badge + avatar based on latest score tier) -->
  <div class="avatar-section">
    <div class="avatar-card">

      <div class="tier-badge tier-badge--{{ tier|lower }}">
        {{ tier }}
      </div>

      <div class="avatar avatar--{{ tier|lower }}" title="Avatar"></div>

      <div class="muted center">
        Latest score: <b>{{ latest_score }}</b>
      </div>
    </div>
  </div>

  <div class="section-title">Items</div>

  <!-- Compact shop grid (6 items hardcoded for now) -->
  <div class="shop-grid">

    <div class="item-card">
      <div class="item-top">
        <div class="item-icon"></div>
        <div class="item-info">
          <div class="item-name">Headband</div>
          <div class="item-desc">+ style</div>
        </div>
      </div>
      <div class="item-bottom">
        <div class="item-price">50 credits</div>
        <button class="btn btn-sm btn-primary" type="button">Buy</button>
      </div>
    </div>

    <div class="item-card">
      <div class="item-top">
        <div class="item-icon"></div>
        <div class="item-info">
          <div class="item-name">Running Shoes</div>
          <div class="item-desc">drip</div>
        </div>
      </div>
      <div class="item-bottom">
        <div class="item-price">120 credits</div>
        <button class="btn btn-sm btn-primary" type="button">Buy</button>
      </div>
    </div>

    <div class="item-card">
      <div class="item-top">
        <div class="item-icon"></div>
        <div class="item-info">
          <div class="item-name">Gold Badge</div>
          <div class="item-desc">flex</div>
        </div>
      </div>
      <div class="item-bottom">
        <div class="item-price">200 credits</div>
        <button class="btn btn-sm btn-primary" type="button">Buy</button>
      </div>
    </div>

    <div class="item-card">
      <div class="item-top">
        <div class="item-icon"></div>
        <div class="item-info">
          <div class="item-name">Wrist Wraps</div>
          <div class="item-desc">gym vibes</div>
        </div>
      </div>
      <div class="item-bottom">
        <div class="item-price">80 credits</div>
        <button class="btn btn-sm btn-primary" type="button">Buy</button>
      </div>
    </div>

    <div class="item-card">
      <div class="item-top">
        <div class="item-icon"></div>
        <div class="item-info">
          <div class="item-name">Compression Tee</div>
          <div class="item-desc">tight fit</div>
        </div>
      </div>
      <div class="item-bottom">
        <div class="item-price">160 credits</div>
        <button class="btn btn-sm btn-primary" type="button">Buy</button>
      </div>
    </div>

    <div class="item-card">
      <div class="item-top">
        <div class="item-icon"></div>
        <div class="item-info">
          <div class="item-name">Protein Shaker</div>
          <div class="item-desc">fuel up</div>
        </div>
      </div>
      <div class="item-bottom">
        <div class="item-price">60 credits</div>
        <button class="btn btn-sm btn-primary" type="button">Buy</button>
      </div>
    </div>

  </div>

  <div class="mt">
    <a class="btn btn-sm btn-ghost" href="/home">Back</a>
  </div>

</div>

{% endblock %}
